{
    "devices": [
        {
            "name": "uss_scale",
            "vendor_id": "1a86",
            "product_id": "7523",
            "port": "/dev/ttyUSB2",
            "data_type": "feed_weight"
        },
        {
            "name": "uss_scale",
            "vendor_id": "1a86",
            "product_id": "7523",
            "port": "/dev/ttyUSB3",
            "data_type": "lactose_weight"
        },
        {
            "name": "uss_scale",
            "vendor_id": "1a86",
            "product_id": "7523",
            "port": "/dev/ttyUSB4",
            "data_type": "base_weight"
        },
        {
            "name": "uss_scale",
            "vendor_id": "1a86",
            "product_id": "7523",
            "port": "/dev/ttyUSB5",
            "data_type": "acid_weight"
        },
        {
            "name": "dymo_scale",
            "vendor_id": "0922",
            "product_id": "8003",
            "port": "",
            "data_type": ""
        },
        {
            "name": "ph_sensor",
            "vendor_id": "0403",
            "product_id": "6001",
            "port": "/dev/ttyUSB1",
            "data_type": "ph"
        },
        {
            "name": "do_sensor",
            "vendor_id": "0403",
            "product_id": "6001",
            "port": "/dev/ttyUSB0",
            "data_type": "do"
        }
    ],
    "loop": [
        {
            "loop_id": "server_consts",
            "interval": 15,
            "testing": "False",
            "load_data": "True",
            "devices_connected": "True",
            "restart": "False"
        },
        {
            "loop_id": "concentration_loop",
            "chosen_control": "concentration_loop",
            "controllers": [
                {
                    "controller_id": "concentration_loop",
                    "notes": "basic concentration loop",
                    "devices": [
                        "uss_scale",
                        "uss_scale"
                    ],
                    "data_type": [
                        "buffer_weight",
                        "lysate_weight"
                    ],
                    "pumps": {
                        "buffer_pump": "whitePump1",
                        "lysate_pump": "whitePump2"
                    },
                    "csv_name": "concentration_05-28-2024",
                    "buffer_sp": 1200,
                    "lysate_sp": 250
                }
            ]
        },
        {
            "loop_id": "fermentation_loop",
            "chosen_control": "3_phase_feed_control",
            "controllers": [
                {
                    "controller_id": "feed_control",
                    "notes": "",
                    "devices": [
                        "do_sensor",
                        "ph_sensor",
                        "uss_scale",
                        "uss_scale",
                        "uss_scale",
                        "uss_scale"
                    ],
                    "data_type": [
                        "do",
                        "ph",
                        "temp",
                        "feed_weight",
                        "lactose_weight",
                        "base_weight",
                        "acid_weight"
                    ],
                    "pumps": {
                        "feed_pump": "blackPump1",
                        "lactose_pump": "blackPump3",
                        "base_pump": "blackPump2",
                        "acid_pump": "whitePump2"
                    },
                    "csv_name": "fermentation_feed_control_loop_05-28-2024",
                    "ph_balance_base_sp": 7,
                    "ph_balance_acid_sp": 7.02,
                    "no_base_window": 600,
                    "feed_media": "Glucose"
                },
                {
                    "controller_id": "3_phase_feed_control",
                    "notes": "manages pH and feeding in three phases. Phase 1 uses the base pump to maintain pH until it reaches 7.02. Phase 2 engages both base and acid pumps, activates the feed pump, and starts Phase 3 at 5:00 AM on May 30, switching to the lactose pump for feeding based on pH levels.",
                    "devices": [
                        "do_sensor",
                        "ph_sensor",
                        "uss_scale",
                        "uss_scale",
                        "uss_scale",
                        "uss_scale"
                    ],
                    "data_type": [
                        "do",
                        "ph",
                        "temp",
                        "feed_weight",
                        "lactose_weight",
                        "base_weight",
                        "acid_weight"
                    ],
                    "pumps": {
                        "feed_pump": "blackPump1",
                        "lactose_pump": "blackPump3",
                        "base_pump": "blackPump2",
                        "acid_pump": "whitePump2"
                    },
                    "csv_name": "fermentation_3_phase_feed_control_loop_05-29-2024",
                    "ph_balance_base_sp": 7,
                    "ph_balance_acid_sp": 7,
                    "no_base_window": 600,
                    "start_feed": "True",
                    "start_time": 1717015349.8079298,
                    "test_data_index": 4,
                    "feed_media": "Glucose"
                },
                {
                    "controller_id": "do_der_control",
                    "notes": "when the derivative is positive for 5 consecutaive windows feed is turned on. ph is balanced",
                    "devices": [
                        "do_sensor",
                        "ph_sensor",
                        "uss_scale",
                        "uss_scale",
                        "uss_scale"
                    ],
                    "data_type": [
                        "do",
                        "ph",
                        "temp",
                        "feed_weight",
                        "lactose_weight",
                        "base_weight"
                    ],
                    "csv_name": "fermentation_do_der_loop_05-23-2024",
                    "ph_balance_sp": 6.7,
                    "deriv_window": 5,
                    "refill_mass": 300,
                    "refill_count": 20
                },
                {
                    "controller_id": "ph_mixed_feed_control",
                    "notes": "base is added until ph reaches 7 then feed is triggered. feed is based on ph. on = ph >= 7, off = ph < 7",
                    "devices": [
                        "do_sensor",
                        "ph_sensor",
                        "uss_scale",
                        "uss_scale",
                        "uss_scale"
                    ],
                    "data_type": [
                        "do",
                        "ph",
                        "temp",
                        "feed_weight",
                        "lactose_weight",
                        "base_weight"
                    ],
                    "csv_name": "fermentation_ph_mixed_feed_05-23-2024",
                    "feed_ph_sp": 7,
                    "refill_mass": 320,
                    "refill_count": 20
                }
            ]
        },
        {
            "loop_id": "calibration_constants",
            "pH_probe": {
                "4": 0,
                "7": 0
            },
            "DO_probe": {
                "setpoint": 0
            }
        }
    ]
}