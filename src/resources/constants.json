{
    "devices": [
        {
            "name": "uss_scale",
            "vendor_id": "1a86",
            "product_id": "7523",
            "port": "/dev/ttyUSB6",
            "data_type": "feed_weight"
        },
        {
            "name": "uss_scale",
            "vendor_id": "1a86",
            "product_id": "7523",
            "port": "/dev/ttyUSB7",
            "data_type": "lactose_weight"
        },
        {
            "name": "uss_scale",
            "vendor_id": "1a86",
            "product_id": "7523",
            "port": "/dev/ttyUSB8",
            "data_type": "base_weight"
        },
        {
            "name": "uss_scale",
            "vendor_id": "1a86",
            "product_id": "7523",
            "port": "",
            "data_type": ""
        },
        {
            "name": "dymo_scale",
            "vendor_id": "0922",
            "product_id": "8003",
            "port": "",
            "data_type": ""
        },
        {
            "name": "ph_sensor",
            "vendor_id": "0403",
            "product_id": "6001",
            "port": "/dev/ttyUSB5",
            "data_type": "ph"
        },
        {
            "name": "do_sensor",
            "vendor_id": "0403",
            "product_id": "6001",
            "port": "/dev/ttyUSB4",
            "data_type": "do"
        }
    ],
    "loop": [
        {
            "loop_id": "concentration_loop",
            "devices": [
                "dymo_scale",
                "uss_scale"
            ],
            "data_type": [
                "buffer_weight",
                "lysate_weight"
            ],
            "csv_name": "concentration_05-24-2024"
        },
        {
            "loop_id": "fermentation_loop",
            "chosen_control": "ph_mixed_feed_loop",
            "controllers": [
                {
                    "controller_id": "do_der_loop",
                    "notes": "when the derivative is positive for 5 consecutaive windows feed is turned on. ph is balanced",
                    "devices": [
                        "do_sensor",
                        "ph_sensor",
                        "uss_scale",
                        "uss_scale"
                    ],
                    "data_type": [
                        "do",
                        "ph",
                        "temp",
                        "feed_weight",
                        "base_weight"
                    ],
                    "csv_name": "fermentation_05-23-2024", 
                    "ph_balance_sp": 6.7, 
                    "deriv_window": 20
                
                },
                {
                    "controller_id": "ph_mixed_feed_loop",
                    "notes": "base is added until ph reaches 7 then feed is triggered. feed is based on ph. on = ph >= 7, off = ph < 7",
                    "devices": [
                        "do_sensor",
                        "ph_sensor",
                        "uss_scale",
                        "uss_scale",
                        "uss_scale"
                    ],
                    "data_type": [
                        "do",
                        "ph",
                        "temp",
                        "feed_weight",
                        "lactose_weight",
                        "base_weight"
                    ],
                    "csv_name": "fermentation_05-23-2024", 
                    "feed_ph_sp": 7, 
                    "refill_mass": 320
                
                }
            
            ]
           
        },
        {
            "loop_id": "test_loop",
            "devices": [
                "do_sensor",
                "ph_sensor",
                "uss_scale",
                "uss_scale"
            ],
            "data_type": [
                "do",
                "ph",
                "temp",
                "feed_weight",
                "base_weight"
            ]
        }
    ]
}